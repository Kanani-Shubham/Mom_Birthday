<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Mom! üå∏</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Fira+Code:wght@400&family=Poppins:wght@300;500&display=swap');

        :root {
            --sky-top: #ff9a9e;
            --sky-bottom: #fad0c4;
            --stem-color: #6da25a;
            --flower-center: #ffd700;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            overflow: hidden;
            background: linear-gradient(180deg, var(--sky-top) 0%, var(--sky-bottom) 100%);
            font-family: 'Poppins', sans-serif;
            height: 100vh;
            width: 100vw;
            position: relative;
            touch-action: none;
            cursor: pointer; /* Indicates the whole page is clickable */
        }

        /* --- The Garden Floor --- */
        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(to top, #4ca64c, transparent);
            z-index: 1;
            pointer-events: none;
        }

        /* --- The Container --- */
        #garden-container {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 50%;
            z-index: 10;
            pointer-events: none; /* Let clicks pass through to body unless specific elements catch them */
        }

        /* --- Flower Styling --- */
        .flower-wrapper {
            position: absolute;
            bottom: -50px;
            width: 0; 
            height: 250px;
            transform-origin: bottom center;
            transition: transform 0.3s ease;
            animation: growUp 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            pointer-events: none; 
        }

        @keyframes growUp {
            to { bottom: 0; }
        }

        .stem {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background: var(--stem-color);
            border-radius: 4px;
            z-index: 1;
        }
        
        .leaf {
            position: absolute;
            width: 30px;
            height: 15px;
            background: var(--stem-color);
            border-radius: 0 50% 0 50%;
            z-index: 2;
        }

        /* Head Container */
        .flower-head {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translate(-50%, -50%); 
            width: 120px; 
            height: 120px; 
            z-index: 5;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Visual Scaler - Handles the "Tiny Bud" look */
        .flower-head-scaler {
            width: 50px;
            height: 50px;
            position: relative;
            transform: scale(0.1); /* Visually small initially */
            transition: transform 0.5s cubic-bezier(0.25, 1.5, 0.5, 1);
        }

        /* The Bloom State */
        .flower-wrapper.bloomed .flower-head-scaler {
            transform: scale(1.5) rotate(15deg);
        }

        .petal {
            position: absolute;
            width: 20px;
            height: 40px;
            background: #ff69b4;
            border-radius: 20px;
            top: 50%;
            left: 50%;
            transform-origin: center bottom;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: filter 0.3s;
        }

        .center {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 15px; height: 15px;
            background: var(--flower-center);
            border-radius: 50%;
            z-index: 10;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }

        /* --- Floating Particles --- */
        .particle {
            position: absolute;
            pointer-events: none;
            z-index: 20;
            animation: floatAway linear forwards;
        }

        @keyframes floatAway {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) rotate(var(--rot)); opacity: 0; }
        }

        /* --- Main Message --- */
        #main-message {
            position: absolute;
            top: 15%;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            text-align: center;
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            color: #d63384;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.8);
            pointer-events: none;
            opacity: 0;
            transition: opacity 1s ease;
            z-index: 100;
        }
        
        #main-message.visible { opacity: 1; animation: gentlePulse 2s infinite; }

        @keyframes gentlePulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
        }

        /* --- Instruction Overlay --- */
        #instruction {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 25px;
            border-radius: 50px;
            font-family: 'Poppins', sans-serif;
            color: #d63384;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 150;
            text-align: center;
            white-space: nowrap;
        }

        #instruction.active {
            opacity: 1;
            animation: bounceHint 2s infinite;
        }

        @keyframes bounceHint {
            0%, 100% { transform: translate(-50%, -50%); }
            50% { transform: translate(-50%, -60%); }
        }

        /* --- Hidden Developer Console --- */
        #dev-console {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 600px;
            background: #1e1e1e;
            border-radius: 10px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            font-family: 'Fira Code', monospace;
            padding: 0;
            overflow: hidden;
            opacity: 0;
            pointer-events: auto; /* Always clickable when open */
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 200;
            border: 1px solid #333;
            /* Initially hidden visually but present */
            visibility: hidden; 
            transform: translate(-50%, -50%) scale(0.5);
        }

        #dev-console.open {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .console-header {
            background: #252526;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #333;
        }

        .dot { width: 12px; height: 12px; border-radius: 50%; margin-right: 8px; cursor: pointer;}
        .red { background: #ff5f56; }
        .yellow { background: #ffbd2e; }
        .green { background: #27c93f; }
        .filename { color: #ccc; margin-left: 10px; font-size: 0.9em; }

        .console-body {
            padding: 20px;
            color: #d4d4d4;
            line-height: 1.6;
            font-size: 0.9rem;
        }

        .kwd { color: #569cd6; } .str { color: #ce9178; } .fun { color: #dcdcaa; } .com { color: #6a9955; }

        @media (max-width: 600px) {
            #main-message { font-size: 2.2rem; top: 10%; }
            #instruction { font-size: 0.85rem; padding: 10px 20px; width: 90%; }
        }
    </style>
</head>
<body>

    <div id="main-message">Happy Birthday Mom!</div>
    <div id="instruction">Tap anywhere to bloom flowers... üëÜ</div>
    <div id="garden-container"></div>
    <div class="ground"></div>

    <div id="dev-console">
        <div class="console-header">
            <div class="dot red" onclick="closeConsole()"></div>
            <div class="dot yellow"></div>
            <div class="dot green"></div>
            <span class="filename">src/love_for_mom.js</span>
        </div>
        <div class="console-body">
            <span class="kwd">class</span> Mom <span class="kwd">extends</span> SuperHero {<br>
            &nbsp;&nbsp;<span class="kwd">constructor</span>() {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">super</span>();<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">this</span>.heart = <span class="str">"Infinite"</span>;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">this</span>.patience = <span class="kwd">Infinity</span>;<br>
            &nbsp;&nbsp;}<br><br>
            &nbsp;&nbsp;<span class="fun">getLove</span>() {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">return</span> <span class="str">"Unconditional"</span>;<br>
            &nbsp;&nbsp;}<br>
            }<br><br>
            <span class="com">// Happy Birthday, Mom! ‚ù§Ô∏è</span><br>
            <span class="com">// Coded with love by your son.</span>
        </div>
    </div>

    <script>
        const CONFIG = {
            flowerCount: 15,
            colors: ['#ff69b4', '#ff1493', '#ffb7b2', '#da70d6'],
            messages: [
                "Happy Birthday Mom! üå∏",
                "Thank you for helping me bloom! üåø",
                "You are the heart of our garden! üíñ",
                "Wishing you joy & sunshine! ‚òÄÔ∏è",
                "I love you! ‚ù§Ô∏è"
            ]
        };

        const garden = document.getElementById('garden-container');
        const mainMsg = document.getElementById('main-message');
        const instruction = document.getElementById('instruction');
        const consoleModal = document.getElementById('dev-console');
        let msgIndex = 0;
        let hasInteracted = false;
        let consoleShown = false;

        function initGarden() {
            for(let i=0; i<CONFIG.flowerCount; i++) {
                createFlower(i);
            }
            setTimeout(() => {
                if(!hasInteracted) instruction.classList.add('active');
            }, 2000);
        }

        function createFlower(index) {
            const wrapper = document.createElement('div');
            wrapper.classList.add('flower-wrapper');
            
            const randomLeft = 5 + Math.random() * 90; 
            const randomHeight = 150 + Math.random() * 150; 
            const delay = Math.random() * 2;

            wrapper.style.left = `${randomLeft}%`;
            wrapper.style.height = `${randomHeight}px`;
            wrapper.style.animationDelay = `${delay}s`;
            wrapper.style.zIndex = Math.floor(randomHeight); 

            // Stem 
            const stem = document.createElement('div');
            stem.classList.add('stem');
            wrapper.appendChild(stem);

            createLeaf(stem, 30, -1);
            createLeaf(stem, 60, 1);

            // Head Container
            const head = document.createElement('div');
            head.className = 'flower-head';
            
            // Visual Scaler
            const scaler = document.createElement('div');
            scaler.className = 'flower-head-scaler';
            head.appendChild(scaler);
            
            const petalColor = CONFIG.colors[Math.floor(Math.random() * CONFIG.colors.length)];
            for(let i=0; i<8; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.style.backgroundColor = petalColor;
                petal.style.transform = `translate(-50%, -100%) rotate(${i * 45}deg) translateY(-5px)`;
                scaler.appendChild(petal);
            }

            const center = document.createElement('div');
            center.className = 'center';
            scaler.appendChild(center);

            wrapper.appendChild(head);
            garden.appendChild(wrapper);
        }

        function createLeaf(parent, bottomPercent, dir) {
            const leaf = document.createElement('div');
            leaf.className = 'leaf';
            leaf.style.bottom = `${bottomPercent}%`;
            leaf.style[dir === 1 ? 'left' : 'right'] = '50%';
            leaf.style.transform = `rotate(${dir * -20}deg)`;
            leaf.style.borderRadius = dir === 1 ? '0 50% 0 50%' : '50% 0 50% 0';
            parent.appendChild(leaf);
        }

        // --- Core Bloom Logic ---
        function bloom(flowerEl) {
            if (flowerEl.classList.contains('bloomed')) return;
            flowerEl.classList.add('bloomed');

            mainMsg.textContent = CONFIG.messages[msgIndex];
            mainMsg.classList.add('visible');
            msgIndex = (msgIndex + 1) % CONFIG.messages.length;

            // Check if we have shown all messages at least once
            if (msgIndex === 0 && !consoleShown) {
                consoleShown = true;
                setTimeout(() => {
                   openConsole();
                }, 1500); // Small delay after the last message
            }

            const scaler = flowerEl.querySelector('.flower-head-scaler');
            const color = scaler.querySelector('.petal').style.backgroundColor;
            
            const head = flowerEl.querySelector('.flower-head');
            const rect = head.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            for(let i=0; i<12; i++) {
                createParticle(centerX, centerY, color);
            }
            if(Math.random() > 0.5) {
                createParticle(centerX, centerY, null, true);
            }
        }

        // --- GLOBAL CLICK HANDLER ---
        document.addEventListener('click', (e) => {
            // Ignore clicks if console is open/being clicked
            if (e.target.closest('#dev-console')) return;

            // Handle Interaction State
            if (!hasInteracted) {
                hasInteracted = true;
                instruction.classList.remove('active');
            }

            // Find all unbloomed flowers
            const unbloomed = document.querySelectorAll('.flower-wrapper:not(.bloomed)');
            
            if (unbloomed.length > 0) {
                // Pick a random unbloomed flower to bloom
                const randomIndex = Math.floor(Math.random() * unbloomed.length);
                bloom(unbloomed[randomIndex]);
            } else {
                // If all bloomed, maybe just throw some confetti/particles at click location?
                createParticle(e.clientX, e.clientY, '#ff69b4', true);
            }
        });

        function createParticle(x, y, color, isHeart = false) {
            const p = document.createElement('div');
            p.className = 'particle';
            
            if (isHeart) {
                p.textContent = '‚ù§Ô∏è';
                p.style.fontSize = '20px';
            } else {
                p.style.width = '10px';
                p.style.height = '10px';
                p.style.background = color;
                p.style.borderRadius = '50% 0 50% 0';
            }

            p.style.left = `${x}px`;
            p.style.top = `${y}px`;

            const angle = Math.random() * Math.PI * 2;
            const velocity = 50 + Math.random() * 100;
            const tx = Math.cos(angle) * velocity;
            const ty = Math.sin(angle) * velocity - 100; 
            const rot = Math.random() * 360;

            p.style.setProperty('--tx', `${tx}px`);
            p.style.setProperty('--ty', `${ty}px`);
            p.style.setProperty('--rot', `${rot}deg`);
            p.style.animationDuration = `${1 + Math.random()}s`;

            document.body.appendChild(p);
            setTimeout(() => p.remove(), 2000);
        }

        function openConsole() {
            consoleModal.classList.add('open');
        }

        function closeConsole() {
            consoleModal.classList.remove('open');
        }

        initGarden();

    </script>
</body>
</html>